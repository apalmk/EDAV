<!DOCTYPE html>
<html>
<head></head>
<body>
  
		<svg width="500" height="400">  
	<g id="Mosaic_manual" transform="translate(80,2.5)">
			<rect x="112.76" y="17" width="227.23" height="133.23" fill="blue"></rect>
			<rect x="112.76" y="155.23" width="227.23" height="166.76" fill="red"></rect>
			<rect x="30" y="17" width="72.76" height="257.54" fill="blue"></rect>
			<rect x="30" y="279.54" width="72.76" height="42.45" fill="red"></rect>
			<text x="200" y="340">Male</text>
		<text x="40" y="340">Female</text>
		</g>
		<text x="40" y="190">Democrat</text>
		<text x="35" y="300">Republican</text>
	
		</svg>
		<svg id="partb" width="500" height="400">
</svg>

<script src="https://d3js.org/d3.v5.min.js"></script>

<script>
var wr= 15;
var wd= 91;
var mr= 184;
var md= 147;

var svg_w=500;
var svg_h=400;
var xstart=110;
var ystart=17;
var wwidth=(svg_w-200)*(wr+wd)/(wr+wd+mr+md);
var mwidth=(svg_w-200)*(mr+md)/(wr+wd+mr+md);
var mrh=(svg_h-100)*(mr)/(mr+md)
var frh=(svg_h-100)*(wr)/(wd+wr)
var mdh=(svg_h-100)*(md)/(mr+md)
var fdh=(svg_h-100)*(wd)/(wd+wr)
svgb=d3.select("svg#partb")
//svgb.append("text").attr("x",0).attr("y",10).text("this");
svgb.append("rect").attr("x",xstart).attr("y",ystart).attr("width",wwidth).attr("height",fdh).attr("fill","blue");
svgb.append("rect").attr("x",xstart).attr("y",ystart+fdh+5).attr("width",wwidth).attr("height",frh).attr("fill","red");
svgb.append("rect").attr("x",xstart+wwidth+10).attr("y",ystart).attr("width",mwidth).attr("height",mdh).attr("fill","blue");
svgb.append("rect").attr("x",xstart+wwidth+10).attr("y",ystart+mdh+5).attr("width",mwidth).attr("height",mrh).attr("fill","red");
svgb.append("text").attr("x",xstart-20+(wwidth)/2).attr("y",ystart+fdh+20+frh).text("Female");
svgb.append("text").attr("x",xstart+10+(wwidth)/2+mwidth/2).attr("y",ystart+fdh+20+frh).text("Male");

svgb.append("text").attr("x",xstart-75).attr("y",ystart+fdh+frh-10).text("Republican");
svgb.append("text").attr("x",xstart-76).attr("y",ystart+fdh+frh-120).text("Democrat");
</script>
		
</body>
</html>